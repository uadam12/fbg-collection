<div id="cart-items">
    {% if cart_items %}
    <div class="list-group">
        {% for item in cart_items %}
        <div class="list-group-item py-3 cart-item">
            <div class="row justify-content-between align-items-center gap-3">

                <!-- Left: Image + Details -->
                <div class="col-md">
                    <div class="row align-items-center g-3">
                    <!-- Image -->
                    <div class="col-12 col-md-6 d-flex justify-content-center justify-content-md-start">
                        {% if item.cap.image %}
                        <img src="{{ item.cap.image.url }}" class="rounded border w-100" style="object-fit: cover;"
                            alt="{{ item.cap.name }}">
                        {% else %}
                        <div class="bg-light border rounded d-flex align-items-center justify-content-center w-100"
                            style="max-width: 200px; height: 200px;">
                            <i class="bi bi-image text-muted fs-3"></i>
                        </div>
                        {% endif %}
                    </div>

                    <!-- Details -->
                    <div class="col-12 col-md-6 text-center text-md-start">
                        <h6 class="mb-1">{{ item.cap.name }}</h6>
                        <small class="text-muted">
                            <i class="bi bi-tag me-1"></i>{{ item.cap.category.name }}
                        </small>
                    </div>
                    </div>
                </div>

                <!-- Right: Pricing + Controls -->
                <div class="col-md">
                    {% include "htmx/cart-item.html" %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center py-5">
        <i class="bi bi-cart-x fs-1 text-muted"></i>
        <p class="mt-3 mb-0 text-muted">Your cart is empty.</p>
    </div>
    {% endif %}
</div>